<!doctype html>
<html lang="id">
<head> 
  <meta charset="utf-8">
  <title>buat ade — ulang tahun</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="description" content="surat ulang tahun interaktif untuk ade dari mas.">
  <meta property="og:title" content="buat ade — ulang tahun">
  <meta property="og:description" content="surat ulang tahun interaktif untuk ade dari mas.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="assets/og.jpg">
  <meta name="theme-color" content="#ff6b81">
  <!-- inline favicon svg -->
  <link rel="icon" href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128"><rect width="100%" height="100%" rx="24" ry="24" fill="%23ff6b81"/><path d="M24 40h80v48c0 4.4-3.6 8-8 8H32c-4.4 0-8-3.6-8-8V40z" fill="%23fff5f7"/><path d="M24 40l40 28 40-28" fill="none" stroke="%23ff6b81" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/></svg>'>
  <style>
    :root{
      --c-accent:#ff6b81; --c-soft:#ffd3e2; --c-paper:#fffafc; --c-text:#3a3a3a; --c-ink:#2a2a2a;
      --shadow:0 12px 30px rgba(0,0,0,.08);
      --maxw:960px; --gap:16px; --radius:20px; --speed:300ms;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif; color:var(--c-text);
      background:
        radial-gradient(1200px 600px at 100% -10%,rgba(255,107,129,.12),rgba(255,107,129,0) 60%),
        radial-gradient(800px 400px at -20% 110%,rgba(255,211,226,.25),rgba(255,211,226,0) 60%),
        linear-gradient(180deg,#fff, var(--c-paper));
    }
    .container{max-width:var(--maxw); margin-inline:auto; padding:20px;}
    header.toolbar{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-bottom:10px}
    .tag{display:inline-block; padding:6px 12px; border-radius:999px; background:var(--c-soft); color:var(--c-ink); font-weight:600}

    /* page (single-page viewer) */
    .stage{ position:relative; display:grid; place-items:center; min-height:76vh; }
    .page{
      width:min(720px, 90vw); aspect-ratio:3/4; background:var(--c-paper);
      border-radius:var(--radius); box-shadow:var(--shadow); padding:clamp(14px,2.4vw,24px); overflow:hidden; position:relative;
      border:1px solid rgba(0,0,0,.06);
    }
    /* paper texture via subtle gradients */
    .page:before{ content:""; position:absolute; inset:0; pointer-events:none; background:
      linear-gradient(180deg,rgba(255,255,255,.8),rgba(255,255,255,0)),
      repeating-linear-gradient(0deg, rgba(0,0,0,.02), rgba(0,0,0,.02) 2px, rgba(0,0,0,0) 2px, rgba(0,0,0,0) 6px);
      mix-blend-mode:multiply; opacity:.8;
    }
    /* washi tape accents */
    .page .tape{ position:absolute; width:120px; height:26px; background:rgba(255,211,226,.8); top:-8px; left:20px; transform:rotate(-6deg); border-radius:6px }
    .page .tape.r{ left:auto; right:20px; transform:rotate(6deg) }

    h1,h2,h3{margin:0 0 8px 0}
    h1{font-size:clamp(22px,4.6vw,34px); letter-spacing:.2px; color:var(--c-ink)}
    h2{font-size:clamp(16px,3.2vw,22px); opacity:.9; color:var(--c-ink)}
    p{margin:0 0 10px 0}
    .muted{opacity:.78}
    .center{text-align:center}

    .btn{appearance:none; border:0; background:var(--c-accent); color:#fff; padding:12px 18px; border-radius:999px; font-weight:700; cursor:pointer; box-shadow:0 10px 26px rgba(255,107,129,.35); transition:transform .08s ease, box-shadow .2s ease}
    .btn:hover{transform:translateY(-1px)}
    .btn.ghost{background:transparent; color:var(--c-accent); border:2px solid var(--c-accent); box-shadow:none}

    /* hero / cover */
    .cover{ display:grid; place-items:center; height:100%; }
    .envelope{ width:min(420px,86%); aspect-ratio:4/3; border-radius:18px; position:relative; background:linear-gradient(180deg,#fff,var(--c-paper)); box-shadow:var(--shadow); }
    .envelope .flap{ position:absolute; inset:auto 0 55% 0; height:60%; background:
      linear-gradient(135deg,transparent 49.5%, var(--c-soft) 50%) left,
      linear-gradient(-135deg,transparent 49.5%, var(--c-soft) 50%) right; background-size:50% 100%; background-repeat:no-repeat; }
    .envelope .body{ position:absolute; inset:30% 0 0 0; background:var(--c-soft) }
    .seal{ position:absolute; top:46%; left:50%; transform:translate(-50%,-50%); background:var(--c-accent); color:#fff; width:70px; height:70px; border-radius:50%; display:grid; place-items:center; box-shadow:0 6px 14px rgba(255,107,129,.5); font-size:26px }

    /* image full-page */
    .fullimg{ position:relative; width:100%; height:100%; display:grid; place-items:center; }
    .fullimg img{ max-width:100%; max-height:100%; object-fit:contain; display:block; border-radius:14px; box-shadow:0 6px 24px rgba(0,0,0,.12); }

    /* quiz */
    .quiz{ display:grid; gap:12px; height:100%; align-content:center; justify-items:stretch; grid-auto-rows:max-content; padding-inline:clamp(4px,2vw,16px); }
    .choices{ display:grid; gap:10px; margin-top:8px }
    .choice{ padding:12px 14px; border:1px solid rgba(0,0,0,.12); border-radius:12px; cursor:pointer; background:#fff0; text-align:left; }
    .choice.correct{ border-color:rgba(0,180,0,.55) }
    .choice.wrong{ border-color:rgba(255,0,0,.5) }

    /* message form */
    .note{ display:grid; gap:10px; height:100% }
    textarea{ width:100%; min-height:52%; resize:vertical; padding:12px; border-radius:12px; border:1px solid rgba(0,0,0,.12); font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif }
    .note .row{ display:flex; gap:10px; flex-wrap:wrap; }

    /* bottom navigation */
    .navwrap{ position:fixed; left:0; right:0; bottom:clamp(10px, env(safe-area-inset-bottom) + 10px, 24px); z-index:50; display:grid; place-items:center; pointer-events:none }
    .nav{ pointer-events:auto; display:flex; align-items:center; gap:12px; background:rgba(255,255,255,.9); backdrop-filter:blur(6px); border:1px solid rgba(0,0,0,.06); border-radius:999px; padding:8px 12px; box-shadow:0 8px 24px rgba(0,0,0,.12) }
    .nav .pill{ min-width:38px; height:38px; border-radius:999px; display:grid; place-items:center; font-size:18px; font-weight:700; color:#fff; background:var(--c-accent); border:0; cursor:pointer }
    .nav .pill:disabled{ opacity:.5; cursor:not-allowed }
    .nav .count{ font-weight:700; color:var(--c-ink); padding:0 6px }

    /* progress dots */
    .dots{ display:flex; gap:6px; align-items:center }
    .dot{ width:8px; height:8px; border-radius:50%; background:#ddd }
    .dot.on{ background:var(--c-accent) }

    /* animations */
    .fade{ animation:fade .35s ease both }
    @keyframes fade{ from{ opacity:0; transform:translateY(6px) } }
    .flip{ animation:flip .45s ease both }
    @keyframes flip{ from{ transform:rotateX(12deg); opacity:.0 } }

    footer{ text-align:center; font-size:12px; opacity:.7; padding:14px 0 56px }

    /* reduced motion */
    @media (prefers-reduced-motion:reduce){
      .btn, .choice{ transition:none !important; animation:none !important }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="toolbar" aria-label="toolbar">
      <span class="tag" id="whoTag"></span>
    </header>

    <div class="stage">
      <section id="page" class="page flip" aria-live="polite" aria-label="halaman"></section>
    </div>

    <footer class="muted">dibuat dengan <span id="emoji">💖</span> oleh <span id="fromName"></span></footer>
  </div>

  <!-- bottom nav -->
  <div class="navwrap" aria-hidden="false">
    <div class="nav" role="navigation" aria-label="navigasi halaman">
      <button class="pill" id="prevBtn" aria-label="halaman sebelumnya">⟵</button>
      <div class="count" id="pageCount">0/13</div>
      <div class="dots" id="dots" aria-hidden="true"></div>
      <button class="pill" id="nextBtn" aria-label="halaman berikutnya">⟶</button>
    </div>
  </div>

  <!-- confetti layer -->
  <div id="confetti" style="position:fixed;inset:0;pointer-events:none;overflow:visible"></div>

  <script>
  // =======================
  // KONFIGURASI (edit di sini)
  // =======================
  window.APP_CONFIG = {
    NAMA_PENERIMA: "aina septitsany athiya ramadhani",
    NAMA_PENGIRIM: "mas aren",
    PALETA_WARNA: ["#ff6b81","#ffd3e2","#fffafc","#3a3a3a"],
    FALLBACK_EMOJI: "💖",

    // teks
    KALIMAT_PEMBUKA: "haii, mas ada sesuatu buat adee 💌",
    PESAN_UTAMA_SINGKAT: "makasih adee.. udah jadi rumah ter-nyaman buat mas..",
    SUB_SALAM: "selamat ulang tahun, ade sayang ✨",

    // gambar (pastikan tersedia di folder assets/)
    FOTO_2: "assets/foto1.jpg",
    FOTO_3: "assets/foto2.jpg",
    FOTO_4: "assets/foto3.jpg",
    FOTO_11: "assets/foto4.jpg",
    FOTO_12: "assets/foto5.jpg",

    // kuis: 5 pertanyaan untuk halaman 5–9
    PERTANYAAN_KUIS: [
      {q:"tempat pertama kita maem bareng?", a:["depot tanjung api","watu uleg","kodam"], correct:2},
      {q:"film yang pertama kita nonton bareng?", a:["pengeepungan bukit duri","sebelum maghrib","13 bom di jakarta"], correct:0},
      {q:"kucing idaman kita?", a:["scottish fold","anggora","british shorthair"], correct:2},
      {q:"film yang pertama kita tonton bareng?", a:["romcom","thriller","animasi"], correct:0},
      {q:"jam chat paling sering?", a:["pagi","siang","malam"], correct:2}
    ],

    // surat panjang (opsional, bisa dipakai di halaman 1)
    SURAT_PENDEK: `ade, terima kasih sudah jadi tempat pulang paling tenang buat aku. kalau capek datang, ingat: kita tim. kamu istirahat, aku jaga. mari lama dan hangat — janji-janji kecil yang ditepati.`,

    SEO_TITLE: "buat ade — ulang tahun",
    SEO_DESC: "surat ulang tahun interaktif untuk ade dari mas."
  };

  const $ = s=>document.querySelector(s);
  const $$ = s=>[...document.querySelectorAll(s)];
  const T = APP_CONFIG;

  // header
  $('#whoTag').textContent = T.NAMA_PENERIMA;
  $('#emoji').textContent = T.FALLBACK_EMOJI || '💖';
  $('#fromName').textContent = T.NAMA_PENGIRIM;
  document.title = T.SEO_TITLE || document.title;
  document.querySelector('meta[name="description"]').setAttribute('content', T.SEO_DESC||"");
  document.querySelector('meta[property="og:title"]').setAttribute('content', T.SEO_TITLE||"");
  document.querySelector('meta[property="og:description"]').setAttribute('content', T.SEO_DESC||"");

  // ==============
  // NAV & PAGES
  // ==============
  const FIRST_PAGE = 0; // cover
  const LAST_PAGE = 13; // halaman terakhir (0..13)
  let page = 0; // mulai dari 0
  let answers = new Array(5).fill(null); // jawaban kuis

  // confetti
  function confettiBurst(count=120){
    if(window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
    const layer = $('#confetti');
    const colors=[T.PALETA_WARNA[0]||'#ff6b81','#ffd166','#06d6a0','#118ab2','#ef476f'];
    for(let i=0;i<count;i++){
      const p=document.createElement('i');
      Object.assign(p.style,{position:'absolute',top:'-16px',left:(Math.random()*100)+'vw',width:'9px',height:'14px',opacity:.95,borderRadius:'2px',background:colors[i%colors.length],transform:`translateY(0) rotate(${Math.random()*360}deg)`,animation:`fall ${0.9+Math.random()*1.8}s linear forwards`});
      layer.appendChild(p); setTimeout(()=>p.remove(), 2600);
    }
  }
  const styleAnim=document.createElement('style');
  styleAnim.textContent='@keyframes fall{to{transform:translateY(110vh) rotate(720deg);opacity:.98}}';
  document.head.appendChild(styleAnim);

  // pager ui
  const prevBtn = $('#prevBtn');
  const nextBtn = $('#nextBtn');
  const pageCount = $('#pageCount');
  const dotsWrap = $('#dots');

  function buildDots(){ dotsWrap.innerHTML=''; for(let i=FIRST_PAGE;i<=LAST_PAGE;i++){ const d=document.createElement('i'); d.className='dot'+(i===page?' on':''); dotsWrap.appendChild(d);} }

  function updateNav(){
    prevBtn.disabled = page<=FIRST_PAGE;
    nextBtn.disabled = page>=LAST_PAGE;
    pageCount.textContent = page + '/' + LAST_PAGE;
    buildDots();
  }

  prevBtn.addEventListener('click', ()=>{ if(page>FIRST_PAGE){ page--; renderPage(true); }});
  nextBtn.addEventListener('click', ()=>{ if(page<LAST_PAGE){ page++; renderPage(true); }});

  // keyboard
  window.addEventListener('keydown', e=>{
    if(e.key==='ArrowRight' && page<LAST_PAGE){ page++; renderPage(true); }
    if(e.key==='ArrowLeft' && page>FIRST_PAGE){ page--; renderPage(true); }
  });

  // swipe (mobile)
  (function swipe(){
    let sx=null, sy=null;
    const el = $('.stage');
    el.addEventListener('touchstart', e=>{ sx=e.touches[0].clientX; sy=e.touches[0].clientY; }, {passive:true});
    el.addEventListener('touchend', e=>{
      if(sx==null) return; const dx = e.changedTouches[0].clientX - sx; const dy = e.changedTouches[0].clientY - sy; sx=sy=null;
      if(Math.abs(dx)>50 && Math.abs(dx)>Math.abs(dy)){
        if(dx<0 && page<LAST_PAGE) { page++; renderPage(true); }
        if(dx>0 && page>FIRST_PAGE) { page--; renderPage(true); }
      }
    });
  })();

  // renderer
  function setContent(html){ const p=$('#page'); p.classList.remove('flip'); p.innerHTML = html; requestAnimationFrame(()=>p.classList.add('flip')); }

  function renderCover(){
    setContent(`
      <div class="tape"></div><div class="tape r"></div>
      <div class="cover center" style="gap:14px">
        <div class="envelope" aria-hidden="true"><div class="flap"></div><div class="body"></div><div class="seal">💌</div></div>
        <h2 class="muted">${T.KALIMAT_PEMBUKA}</h2>
        <button class="btn" id="openBtn" aria-label="buka">buka</button>
      </div>`);
    $('#openBtn').addEventListener('click', ()=>{ page=1; renderPage(true); confettiBurst(120); });
  }

  function renderHero(){
    setContent(`
      <div class="tape"></div><div class="tape r"></div>
      <div style="display:grid;gap:8px;height:100%">
        <div style="margin:auto 0">
          <h2 class="muted">${T.SUB_SALAM}</h2>
          <h1>${T.PESAN_UTAMA_SINGKAT}</h1>
          <p class="muted">untuk ${T.NAMA_PENERIMA} dari ${T.NAMA_PENGIRIM}</p>
          <p style="margin-top:10px">${T.SURAT_PENDEK}</p>
        </div>
        <div class="muted" style="margin-top:auto">tips: pakai tombol panah bawah ini atau keyboard ← →</div>
      </div>`);
  }

  function renderImage(path){
    setContent(`<div class="fullimg"><img src="${path}" alt="foto" loading="lazy" decoding="async"></div>`);
  }

  function renderQuiz(qIndex){
    const data = T.PERTANYAAN_KUIS[qIndex];
    const chosen = answers[qIndex];
    let html = `
      <div class="tape"></div><div class="tape r"></div>
      <div class="quiz">
        <div>
          <h2>kuis ${qIndex+1}/5</h2>
          <p class="muted">jawab jujur ya ☺️</p>
          <h1 style="margin-top:6px">${data.q}</h1>
        </div>
        <div class="choices" id="choices"></div>
      </div>`;
    setContent(html);
    const wrap = $('#choices');
    data.a.forEach((opt,i)=>{
      const b=document.createElement('button');
      b.className='choice'; b.textContent=opt; if(chosen===i) b.classList.add('correct');
      b.addEventListener('click', ()=>{
        answers[qIndex]=i;
        // beri warna benar/salah
        $$('.choice').forEach(c=>{ c.disabled=true; });
        if(i===data.correct) b.classList.add('correct'); else b.classList.add('wrong');
        setTimeout(()=>{ if(page<LAST_PAGE){ page++; renderPage(true); } }, 350);
      });
      wrap.appendChild(b);
    });
  }

  function renderResult(){
    const correct = T.PERTANYAAN_KUIS.reduce((n,q,i)=> n + (answers[i]===q.correct?1:0), 0);
    const pct = Math.round(correct/5*100);
    setContent(`
      <div class="tape"></div><div class="tape r"></div>
      <div style="display:grid;gap:12px;height:100%">
        <div style="margin:auto 0">
          <h2 class="muted">hasil kuis</h2>
          <h1>skor kamu: ${correct}/5 (${pct}%)</h1>
          <p style="margin-top:6px">apapun skornya, aku tetap bangga sama kamu. makasih sudah main bareng 💖</p>
          <div style="margin-top:12px" class="row">
            <button class="btn" id="replay">ulang kuis</button>
            <button class="btn ghost" id="review">lihat kunci</button>
          </div>
        </div>
      </div>`);
    $('#replay').addEventListener('click', ()=>{ answers=new Array(5).fill(null); page=5; renderPage(true); });
    $('#review').addEventListener('click', ()=>{
      alert(T.PERTANYAAN_KUIS.map((q,i)=>`Q${i+1}: ${q.a[q.correct]}`).join('\n'));
    });
    confettiBurst(100);
  }

  function renderNote(){
    setContent(`
      <div class="tape"></div><div class="tape r"></div>
      <div class="note">
        <div>
          <h2 class="muted">tulis sesuatu buat aku</h2>
          <h1>pesan dari ${T.NAMA_PENERIMA}</h1>
        </div>
        <textarea id="msg" placeholder="ketik di sini...">${localStorage.getItem('__pesan_ade')||''}</textarea>
        <div class="row">
          <button class="btn" id="copy">copy</button>
          <button class="btn ghost" id="download">download .txt</button>
          <span class="muted" id="saved" aria-live="polite"></span>
        </div>
      </div>`);
    const ta = $('#msg');
    ta.addEventListener('input', ()=>{ localStorage.setItem('__pesan_ade', ta.value); $('#saved').textContent='tersimpan otomatis'; setTimeout(()=>$('#saved').textContent='', 1200); });
    $('#copy').addEventListener('click', async()=>{
      try{ await navigator.clipboard.writeText(ta.value||''); $('#copy').textContent='tersalin ✔'; setTimeout(()=>$('#copy').textContent='copy', 1200);}catch{}
    });
    $('#download').addEventListener('click', ()=>{
      const blob=new Blob([ta.value||''], {type:'text/plain'});
      const a=document.createElement('a'); a.href=URL.createObjectURL(blob);
      a.download=`pesan-untuk-${T.NAMA_PENGIRIM.replace(/\s+/g,'-').toLowerCase()}.txt`; a.click(); URL.revokeObjectURL(a.href);
    });
  }

  function renderPage(withAnim){
    switch(page){
      case 0: renderCover(); break;
      case 1: renderHero(); break;
      case 2: renderImage(T.FOTO_2); break;
      case 3: renderImage(T.FOTO_3); break;
      case 4: renderImage(T.FOTO_4); break;
      case 5: renderQuiz(0); break;
      case 6: renderQuiz(1); break;
      case 7: renderQuiz(2); break;
      case 8: renderQuiz(3); break;
      case 9: renderQuiz(4); break;
      case 10: renderResult(); break;
      case 11: renderImage(T.FOTO_11); break;
      case 12: renderImage(T.FOTO_12); break;
      case 13: renderNote(); break;
      default: page=0; renderCover();
    }
    updateNav();
  }

  // init
  renderPage(false);
  </script>

  <!--
  =============================
  CATATAN & KUSTOMISASI SINGKAT
  =============================
  - fitur yang dihapus: countdown, kunci/buka surat via skor, tema gelap/terang, bagikan WA, musik, galeri.
  - navigasi: tombol panah di bawah (sticky), keyboard ← →, dan swipe.
  - struktur halaman: 0 cover → 1 hero → 2 foto1.jpg → 3 foto2.jpg → 4 foto3.jpg → 5–9 kuis → 10 hasil → 11 foto4.jpg → 12 foto5.jpg → 13 tulis pesan.
  - edit file gambar di APP_CONFIG (FOTO_2, FOTO_3, ...). Taruh di folder assets/.
  - ukuran gambar ideal: rasio 3:4 (potret). Rekomendasi 1500×2000 px (JPEG, kualitas 80–85%), < 300 KB/file. (lihat penjelasan lengkap di chat)
  - semua teks dan pertanyaan kuis bisa diubah di APP_CONFIG.
  - tidak ada dependensi eksternal. fokus aksesibilitas & performa.
  -->
</body>
</html>
